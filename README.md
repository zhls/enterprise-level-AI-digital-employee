# 健康咨询助手：专业的健康知识普及与咨询服务

**赛道**: AI 健康咨询

## 项目简介

本项目是一个基于魔珐星云3D数字人和魔搭社区AI大模型的智能健康咨询系统。通过：

- 🤖 **3D数字人交互** - 实时语音对话，生动的咨询体验
- 📚 **健康知识普及** - 营养膳食、运动健身、亚健康调理等多个健康领域
- 🎯 **专业健康建议** - 基于知识库的精准健康指导
- 📊 **可视化健康数据** - 直观的健康建议和咨询记录
- 🧠 **RAG知识库增强** - 基于向量检索的精准知识匹配

## 技术栈

### 前端
- React 18.x + TypeScript
- Vite 5.x
- TailwindCSS
- Zustand (状态管理)
- React Markdown + KaTeX (公式渲染)

### 后端
- Node.js + Express + TypeScript
- 魔搭社区 ModelScope API
- 向量嵌入 (Qwen/Qwen3-Embedding-8B)
- DeepSeek-V3

### 数字人
- 魔珐星云具身驱动 SDK v0.1.0-alpha.45

## 项目结构

```
enterprise-level-AI-digital-employee/
├── src/
│   ├── client/                    # React 前端
│   │   ├── components/            # 组件
│   │   │   ├── Avatar/            # 数字人组件
│   │   │   ├── Chat/              # 对话组件
│   │   │   ├── Admin/             # 管理员面板
│   │   │   └── UI/                # 通用 UI 组件
│   │   ├── store/                 # Zustand 状态管理
│   │   ├── services/              # API 服务
│   │   ├── App.tsx                # 应用入口
│   │   └── main.tsx               # React 挂载
│   ├── server/                    # Express 后端
│   │   ├── routes/                # API 路由
│   │   ├── services/              # 业务服务
│   │   │   ├── ChatService.ts     # 对话处理
│   │   │   ├── RAGService.ts      # 知识库检索
│   │   │   ├── ModelScopeService.ts # AI模型服务
│   │   │   └── KnowledgeService.ts # 知识库管理
│   │   └── app.ts                 # Express 应用
│   └── shared/                    # 前后端共享
│       ├── types/                 # 类型定义
│       └── constants/             # 常量
├── data/
│   └── knowledge/                 # 知识库数据
│       └── health.json            # 健康知识库
├── index.html                    # HTML入口
├── package.json
├── vite.config.ts
├── tsconfig.json
└── .env.example
```

## 快速开始

### 1. 环境准备

- Node.js 24.11.1
- npm 或 yarn

### 2. 安装依赖

```bash
npm install
```

### 3. 配置环境变量

在应用内点击「设置」按钮，或创建 `.env` 文件：

```bash
# 魔搭社区 API 密钥
MODELSCOPE_API_KEY=your_api_key_here

# 魔珐星云应用密钥
XMOV_APP_ID=your_app_id_here
XMOV_APP_SECRET=your_app_secret_here
```

### 4. 启动开发服务器

```bash
npm run dev
```

访问 http://localhost:5175 查看应用。

## 核心功能

### 1. AI数字人健康咨询

AI 数字人 "健康咨询专员" 可以通过自然对话提供专业健康建议：
- 实时语音对话，生动的咨询体验
- 支持流式响应，实时反馈
- 结合健康知识库提供准确内容
- 一次性说完所有内容，无停顿

### 2. 快捷咨询

- 浮动弹出框展示常用健康问题
- 按健康领域分类组织（睡眠调理、营养膳食、运动健身等）
- 一键发送，快速开始咨询

### 3. 健康知识库管理

- 支持上传健康知识文档
- 健康知识分类管理（日常营养膳食建议、健身计划指导、亚健康调理）
- 知识库检索和更新

### 4. 对话体验优化

- 智能自动滚动
- 滚动到底部按钮
- 美观的对话气泡
- 支持多轮对话

## AI 提示词

```
你是一位专业的健康咨询专员，名为"健康咨询助手"。

你的岗位职责：
1. 提供专业、科学的健康知识普及与咨询服务
2. 根据用户的健康问题，提供个性化的健康建议
3. 引导用户养成健康的生活习惯
4. 及时更新健康知识，确保信息的准确性和时效性

你的服务流程：
1. 热情接待用户，了解用户的健康问题
2. 根据用户问题，查询相关健康知识
3. 提供专业、科学的健康建议
4. 回答用户的后续问题
5. 总结咨询内容，给予鼓励和支持

你的企业价值观：
1. 专业：提供科学、准确的健康知识
2. 贴心：关注用户的健康需求，提供个性化服务
3. 诚信：不夸大健康效果，不做虚假宣传
4. 创新：不断更新健康知识，提升服务质量

你的回答风格：
- 使用专业、温暖的语气
- 语言简洁明了，易于理解
- 提供具体、可操作的健康建议
- 给予用户鼓励和支持

重要原则：
- 本服务为健康咨询，非医疗诊断
- 提供科学、准确的健康知识
- 引导用户养成健康的生活习惯
- 对于严重健康问题，建议用户咨询专业医生
```

## API 接口

### 对话接口

#### POST /api/chat/stream
流式对话（SSE）

**请求体**
```json
{
  "message": "如何通过饮食改善失眠？",
  "sessionId": "session_123456"
}
```

**响应** (SSE流)
```
data: {"type":"content","data":"你"}
data: {"type":"content","data":"好"}
data: {"type":"end"}
```

### 知识库接口

#### GET /api/knowledge
查询知识库

**查询参数**
- `category`: 健康分类 (日常营养膳食建议、健身计划指导、亚健康调理)
- `search`: 搜索关键词

## 部署说明

### 构建生产版本

```bash
npm run build
```

### 环境变量

生产环境需要配置以下环境变量：
- `MODELSCOPE_API_KEY`: 魔搭社区 API 密钥
- `XMOV_APP_ID`: 魔珐星云应用 ID
- `XMOV_APP_SECRET`: 魔珐星云应用密钥

## 界面功能

### 顶部导航
- **健康咨询助手**：应用标题和描述
- **统计数据**：咨询次数、健康建议、满意度
- **操作按钮**：知识库管理、系统配置、清空对话

### 对话记录区域
- **咨询中心**：显示对话记录
- **快捷咨询**：浮动弹出框，选择常用健康问题
- **滚动到底部**：向上滚动时显示的浮动按钮

### 数字人控制
- **健康咨询专员**：3D数字人展示
- **状态指示**：实时显示数字人状态

### 输入区域
- **文本输入**：输入健康问题
- **语音输入**：支持语音提问
- **发送按钮**：提交咨询问题

## 常见问题

### Q: 数字人无法加载？
A: 检查魔珐星云 SDK 配置是否正确，确保 App ID 和 Secret 有效。

### Q: AI 响应很慢？
A: 检查魔搭 API 密钥是否配置，网络连接是否正常。

### Q: 数字人没有声音？
A:
1. 确认数字人已连接（状态显示为绿色）
2. 检查浏览器是否允许音频播放
3. 查看控制台是否有错误信息

### Q: 知识库检索不准确？
A: 可以增加健康知识库数据，或调整 RAG 检索参数。

## 许可证

MIT

## 致谢

- 魔珐星云 - 3D数字人技术
- 魔搭社区 - AI 大模型服务
- DeepSeek - AI 模型
